<!doctype html><html lang=cn dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><title>二进制分析 &#183; 菜狗的blog</title>
<meta name=title content="二进制分析 &#183; 菜狗的blog"><meta name=description content="菜狗's website"><meta name=keywords content="security,"><link rel=canonical href=https://hxndg.github.io/posts/2023-02-09-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%88%86%E6%9E%90/><link type=text/css rel=stylesheet href=/css/main.bundle.min.ba3775bebd52a2b4837f8da64e32ee36e5c52bf284a0ce2262562782398b701543947527ad1498487717b1b96fe2a4e48d365a02e0b5d00e224893052e99d83c.css integrity><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.764eb2fe8d6a6b086c7c58f87d12c64fa79a7585117fc27eb53f688f80c287a6eff16277f9d186cd223a39ff700e294d64482834faece5e07ee0498fa042d056.js integrity="sha512-dk6y/o1qawhsfFj4fRLGT6eadYURf8J+tT9oj4DCh6bv8WJ3+dGGzSI6Of9wDilNZEgoNPrs5eB+4EmPoELQVg==" data-copy data-copied></script><script src=/lib/zoom/zoom.min.3530c2657381259433194af312ec3d322a97a2ad85661810299757fe793b24c3b8e07ab97fa8e5cf96cff1208f271e75394b6eaa56c2e39e7e2c3ca49fb1921c.js integrity="sha512-NTDCZXOBJZQzGUrzEuw9MiqXoq2FZhgQKZdX/nk7JMO44Hq5f6jlz5bP8SCPJx51OUtuqlbC455+LDykn7GSHA=="></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://hxndg.github.io/posts/2023-02-09-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%88%86%E6%9E%90/"><meta property="og:site_name" content="菜狗的blog"><meta property="og:title" content="二进制分析"><meta property="og:description" content="菜狗's website"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-09T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-09T00:00:00+00:00"><meta property="article:tag" content="Security"><meta name=twitter:card content="summary"><meta name=twitter:title content="二进制分析"><meta name=twitter:description content="菜狗's website"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"二进制分析","headline":"二进制分析","inLanguage":"zh-cn","url":"https:\/\/hxndg.github.io\/posts\/2023-02-09-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%88%86%E6%9E%90\/","author":{"@type":"Person","name":"菜狗"},"copyrightYear":"2023","dateCreated":"2023-02-09T00:00:00\u002b00:00","datePublished":"2023-02-09T00:00:00\u002b00:00","dateModified":"2023-02-09T00:00:00\u002b00:00","keywords":["security"],"mainEntityOfPage":"true","wordCount":"5145"}]</script><meta name=author content="菜狗"><script src=/lib/jquery/jquery.slim.min.03cb160e3cfdb2667a2e2c80d283bebcf63ff8bbc4b629c9ab2babf6fae1d0c07ad470edae783efa4fabda2ac01c58d60e63b98b3c336be8208460f08f4354f5.js integrity="sha512-A8sWDjz9smZ6LiyA0oO+vPY/+LvEtinJqyur9vrh0MB61HDtrng++k+r2irAHFjWDmO5izwza+gghGDwj0NU9Q=="></script><meta name=theme-color></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>跳过正文</a></div><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">菜狗的blog</a></nav><nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12"><a href=/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Home</p></a><a href=/posts/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Posts</p></a><a href=/tags/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Tags</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 md:hidden"><label id=menu-button class=block><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl"><li id=menu-close-button><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Home</p></a></li><li class=mt-1><a href=/posts/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Posts</p></a></li><li class=mt-1><a href=/tags/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Tags</p></a></li></ul></div></label></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">二进制分析</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2023-02-09T00:00:00+00:00>2023 年 2 月 9 日</time><span class="px-2 text-primary-500">&#183;</span><span>5145 字</span><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>11 分钟</span></div></div><div class="flex author"><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">作者</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">菜狗</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Focus</div><div class="text-2xl sm:text-lg"></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open id=TOCView class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">目录</summary><div class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#1-elf文件的结构>1 elf文件的结构</a><ul><li><a href=#11-section结构>1.1 Section结构</a></li><li><a href=#动态链接>动态链接</a></li><li><a href=#12-segment结构>1.2 Segment结构</a></li></ul></li><li><a href=#2-pe文件的结构>2 PE文件的结构</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">目录</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#1-elf文件的结构>1 elf文件的结构</a><ul><li><a href=#11-section结构>1.1 Section结构</a></li><li><a href=#动态链接>动态链接</a></li><li><a href=#12-segment结构>1.2 Segment结构</a></li></ul></li><li><a href=#2-pe文件的结构>2 PE文件的结构</a></li></ul></nav></div></details><script>var margin=200,marginError=50;(function(){var t=$(window),e=$("#TOCView"),s=e.height();function n(){var n=t.height()-margin;s>=n?(e.css("overflow-y","scroll"),e.css("max-height",n+marginError+"px")):(e.css("overflow-y","hidden"),e.css("max-height","9999999px"))}t.on("resize",n),$(document).ready(n)})()</script></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><h1 class="relative group">二进制分析<div id=%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%88%86%E6%9E%90 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%88%86%E6%9E%90 aria-label=锚点>#</a></span></h1><h2 class="relative group">1 elf文件的结构<div id=1-elf%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%93%E6%9E%84 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-elf%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%93%E6%9E%84 aria-label=锚点>#</a></span></h2><p>elf的格式看这个：https://linuxhint.com/understanding_elf_file_format/</p><p><figure><img class="my-0 rounded-md" loading=lazy src=imgs/elf_format.png alt=img></figure></p><p>如果是可执行文件，那么elf header会指明程序头表的偏移量，程序头表(<strong>Program header table</strong>) - 列举了所有有效的段(segments)和他们的属性（执行视图），每个结构都表示一个段，就是上图右边的图片，可以想象从Program Header Table伸出一条条箭头指向下面的Segment 1, Segment 2 &mldr;</p><p>一般来说，我们将ELF文件标记为以下几个类型</p><ul><li>ET_NONE</li><li>ET_REL：重定位文件，通常是还未被链接到可执行程序的一段为止独立的代码( position independent code)，</li><li>ET_EXEC：可执行文件</li><li>ET_DYN：共享目标文件，一般是共享库</li><li>ET_CODE：coredump文件相关</li></ul><p>elf文件的结构如图，一点一点说</p><ul><li>elf头部保存了关于比方关于幻数，架构位宽，大端序/小端序，ABI等信息。此外e_type表明是<strong>可重定位文件（Relocatable File）</strong>：<code>ETL_REL</code>，还是<strong>可执行文件（Executable File）</strong>：<code>ET_EXEC</code>，<strong>共享目标文件（Shared Object File）</strong>：<code>ET_DYN</code>等类型。此外还有e_phoff和e_shoff，指明程序头表和街头表的偏移量，这都是文件偏移量。还有一个e_entry表示开始执行的虚拟地址。</li><li>剩下的我建议参考这个：http://chuquan.me/2018/05/21/elf-introduce/</li></ul><p>使用readelf -h 查看文件头，默认的文件头结构定义如下</p><pre tabindex=0><code>#define EI_NIDENT 16
typedef struct {
	unsigned char e_ident[EI_NIDENT]; //magic number
	Elf32_Half e_type;                //Ojbect file type
	Elf32_Half e_machine;             //Architecture
	Elf32_Word e_version;             //Object file version 
	Elf32_Addr e_entry;               //entry point
	Elf32_Off  e_phoff;               //程序头内容在文件的偏移量
	Elf32_off  e_shoff;               //段头内容在文件的偏移量
	Elf32_Word e_flags;
	Elf32_Half e_ehsize;              //elf头部大小
	Elf32_Half e_phentsize;           //程序头部表格的表项大小
	Elf32_Half e_phnum;               //程序头的个数Program header
	Elf32_Half e_shentsize;           //节区头部表格的表项大小
	Elf32_Half e_shnum;               //段头的个数Section header
	Elf32_Half e_shstrndx;            //String段在整个段列表中的索引值，实际上是.shstrtab的头索引，用来找字符串，
}Elf32_Ehdr;
</code></pre><h3 class="relative group">1.1 Section结构<div id=11-section%E7%BB%93%E6%9E%84 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#11-section%E7%BB%93%E6%9E%84 aria-label=锚点>#</a></span></h3><p>和段不同，节主要用于链接和调试，节头表对程序不是必须的，部分人可能会删除节头表的信息来对抗调试。</p><p><figure><img class="my-0 rounded-md" loading=lazy src=imgs/elf-file-format.png alt=elf-file-format></figure></p><p>节的数据结构比较直接</p><pre tabindex=0><code>typedef struct {
    Elf32_Word sh_name;      //给出节区名称。是节区头部字符串节区（Section Header String Table Section）的索引。名字是一个NULL结尾的字符串，保存在一个名为.shstrtab的字符串表（可通过Section Header索引到）
    Elf32_Word sh_type;      //节类型。为节区的内容和语义进行分类。SHT_PROGRAMBITS包含程序指令，机器指令或者常量
    Elf32_Word sh_flags;     //节标志位。节区支持1位形式的标志，这些标志描述了多种属性
    Elf32_Addr sh_addr;      //节的虚拟地址。如果节区将出现在进程的内存映像中或可被加载，则sh_addr为该节被加载后在进程地址空间中的虚拟地址，给出节区的每一个字节应处的位置。否则，此字段为0
    Elf32_Off sh_offset;     //节偏移。如果该节存在于文件中，则该节表示在文件中的偏移；否则无意义，如sh_offset对于BSS节来说就是没有意义的。即此成员的取值给出节区的第一个字节与文件头之间的偏移。
    Elf32_Word sh_size;      //节大小。此成员给出节区的长度（字节数）。除非节区的类型是SHT_NOBITS，否则节区占用文件中的sh_size字节。
    Elf32_Word sh_link;      //节链接信息。此成员给出节区头部表索引链接，其解释依赖于节区类型
    Elf32_Word sh_info;      //节链接信息。此成员给出附加信息，其解释依赖于节区类型
    Elf32_Word sh_addralign; //节地址对齐方式。某些节区带有地址对齐约束。
    Elf32_Word sh_entsize;   //节项大小。某些节区中包含固定大小的项目，如符号表，其包含的每个符号所在的大小都一样。
} Elf32_Shdr;
</code></pre><p>一些有趣的节</p><ul><li><p>.text: .text节是保存了程序代码指令的代码节。一段可执行程序，如果存在Phdr，则.text节就会存在于text段中。由于.text节保存了程序代码，所以节类型为SHT_PROGBITS。</p></li><li><p>.rodata.rodata节保存了只读的数据，如一行c语言代码中的字符串。由于.rodata节是只读的，所以只能存在于一个可执行文件的只读段中。因此，只能在text段（而不是data段）中找到.rodata节。由于.rodata节是只读的，所以节类型为SHT_PROGBITS。</p></li><li><p>.data: .data节存在于data段中，其保存了初始化的全局变量等数据。由于.data节保存了程序的变量数据，所以节类型为SHT_PROGBITS。</p></li><li><p>.bss: .bss节存在于data段中，占用空间不超过4字节，仅表示这个节本来的空间。.bss节保存了未进行初始化的全局数据。程序加载时数据被初始化为0，在程序执行期间可以进行赋值。由于.bss节未保存实际的数据，所以节类型为SHT_NOBITS。</p></li></ul><p>.rel.name .relaname</p><p>name根据重定位所适用的节区给定。例如.text节区的重定位节区名字将是：.rel.text或者.rela.text。重定位表保存了重定位相关的信息，这些信息描述了如何在链接或运行时，对ELF目标文件的某些部分或者进程镜像进行补充或者修改。由于重定位表保存了重定位相关的数据，所以节类型为SHT_REL。</p><p>.hash</p><p>.hash节也称为.gnu.hash，其保存了一个用于查找符号的散列表。</p><p>.symtab</p><p>.symtab节是一个ElfN_Sym的数组，保存了符号信息。节类型为SHT_SYMTAB。</p><p>.strtab</p><p>.strtab节保存的是符号字符串表，表中的内容会被.symtab的ElfN_Sym结构中的st_name引用。节类型为SHT_STRTAB。</p><p>.ctors&.dtors ctors（构造器）节和.dtors（析构器）节分别保存了指向构造函数和析构函数的函数指针，构造函数是在main函数执行之前需要执行的代码；析构函数是在main函数之后需要执行的代码。</p><p>我们重点关注这几个节：</p><ul><li><p>.plt:.plt节也称为过程链接表（Procedure Linkage Table），其包含了动态链接器调用从共享库导入的函数所必需的相关代码。由于.plt节保存了代码，所以节类型为SHT_PROGBITS。</p></li><li><p>.got & .plt:.got节保存了全局偏移量。.got节和.plt节一起提供了对导入的共享库函数的访问入口，由动态链接器在运行时进行修改。由于.got .plt节与程序执行有关，所以节类型为SHT_PROGBITS。</p><ul><li>为什么需要这个节呢？<ul><li>.text和.pot是不可写的，所以需要一个可写的节来存储</li><li>现代操作系统动态库虽然都load了，可是虚拟地址不同，所以还是得每个进程保存自己的got plt</li></ul></li></ul></li><li><p>.dynsym：从共享库导入的外部符号，后面动态链接器链接的时候往往要看这个节来确定要链接哪些东西</p></li><li><p>.dynstr：.dynstr保存了动态链接字符串表，表中存放了一系列字符串，这些字符串代表了符号名称，以空字符作为终止符。</p></li><li><p>.dynamic节：在加载和创建要执行的elf二进制文件的是哦户，.dynamic节充当操作系统和动态链接库的路线图，该节包含名为ELF64_Dyn的结构体数组，或者说标签，每个标签都有个关联</p></li><li><p>.rel.*</p></li></ul><p>符号引用和符号定义</p><p>节的分类中我们介绍了.dynsym节和.symtab节，两者都是符号表。那么它们到底有什么区别呢？存在什么关系呢？</p><p>符号是对某些类型的数据或代码（如全局变量或函数）的符号引用，函数名或变量名就是符号名。例如，printf()函数会在动态链接符号表.dynsym中存有一个指向该函数的符号项（以Elf_Sym数据结构表示）。在大多数共享库和动态链接可执行文件中，存在两个符号表。即.dynsym和.symtab。</p><p>.dynsym保存了引用来自外部文件符号的全局符号。如printf库函数。.dynsym保存的符号是.symtab所保存符合的子集，.symtab中还保存了可执行文件的本地符号。如全局变量，代码中定义的本地函数等。</p><p>既然.dynsym是.symtab的子集，那为何要同时存在两个符号表呢？</p><p>通过readelf -S命令可以查看可执行文件的输出，一部分节标志位（sh_flags）被标记为了A（ALLOC）、WA（WRITE/ALLOC）、AX（ALLOC/EXEC）。其中，.dynsym被标记为ALLOC，而.symtab则没有标记。</p><p>ALLOC表示有该标记的节会在运行时分配并装载进入内存，而.symtab不是在运行时必需的，因此不会被装载到内存中。.dynsym保存的符号只能在运行时被解析，因此是运行时动态链接器所需的唯一符号。.dynsym对于动态链接可执行文件的执行是必需的，而.symtab只是用来进行调试和链接的</p><h3 class="relative group">动态链接<div id=%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5 aria-label=锚点>#</a></span></h3><p>动态库没有PT_INTERP段，所以不会触发程序解释器。当共享库加载到一个进程的地址空间的时候，动态链接器会修改可执行文件的GOT。这个段位于数据段（.got.plt节)</p><p>一般来说，动态链接的过程是</p><ul><li>调用动态链接的函数首先跳转到plt</li><li>plt会调用jmp *got[3+x]的位置，x是函数的plt存根的数字。这个*got[3+x]实际上一开始就是plt的下一条指令<ul><li>为什么是got[3+x]呢？下面是 GOT 的头3个偏移量。<ul><li>GOT[0]：存放了指向可执行文件动态段的地址，动态链接器利用该地址提取动态链接相关的信息。</li><li>GOT[1]：存放 link_map 结构的地址，动态链接器利用该地址来对符号进行解析。</li><li>GOT[2]：存放了指向动态链接器_dl_runtime_resolve(),函数的地址，该函数用来解析共享库函数的实际符号地址。</li></ul></li></ul></li><li>之后plt会跳转到就jmp plt[0]的位置，这个地址实际上放了三条指令<ul><li>pushl将got[1]压入栈内，指向link_map的地址</li><li>跳转到got[2]的地址，这俩放了动态链接_dl_runtime_resolve()函数的地址，之后动态链接器会修改got里面的地址</li></ul></li></ul><p>动态链接，调用的过程，我们看一个scanf的例子，可以看到这个时候跳转到plt实际上已经没有了延迟链接的事情，check this link:https://stackoverflow.com/questions/43048932/why-does-the-plt-exist-in-addition-to-the-got-instead-of-just-using-the-got</p><pre tabindex=0><code class=language-assembly data-lang=assembly>qcraft@BJ-vgdog:~/code_test/ass_c++/control_flow$ readelf -r a.out

Relocation section &#39;.rela.dyn&#39; at offset 0x4a0 contains 8 entries:
  Offset          Info           Type           Sym. Value    Sym. Name + Addend
000000200da8  000000000008 R_X86_64_RELATIVE                    7b0
000000200db0  000000000008 R_X86_64_RELATIVE                    770
000000201008  000000000008 R_X86_64_RELATIVE                    201008
000000200fd8  000100000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0
000000200fe0  000300000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0
000000200fe8  000400000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0
000000200ff0  000700000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0
000000200ff8  000800000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0

Relocation section &#39;.rela.plt&#39; at offset 0x560 contains 3 entries:
  Offset          Info           Type           Sym. Value    Sym. Name + Addend
000000200fc0  000200000007 R_X86_64_JUMP_SLO 0000000000000000 __stack_chk_fail@GLIBC_2.4 + 0
000000200fc8  000500000007 R_X86_64_JUMP_SLO 0000000000000000 __printf_chk@GLIBC_2.3.4 + 0
000000200fd0  000600000007 R_X86_64_JUMP_SLO 0000000000000000 scanf@GLIBC_2.2.5 + 0



(gdb) disass
Dump of assembler code for function scanf@plt:
=&gt; 0x00005555555545f0 &lt;+0&gt;:	jmpq   *0x2009da(%rip)        # 0x555555754fd0
   0x00005555555545f6 &lt;+6&gt;:	pushq  $0x2
   0x00005555555545fb &lt;+11&gt;:	jmpq   0x5555555545c0

rip            0x5555555545f0	0x5555555545f0 &lt;scanf@plt&gt;

(gdb) ni
__scanf (format=0x555555554844 &#34;%d&#34;) at scanf.c:28
28	scanf.c: No such file or directory.
(gdb) disass
Dump of assembler code for function __scanf:
=&gt; 0x00007ffff7a5d120 &lt;+0&gt;:	sub    $0xd8,%rsp
   0x00007ffff7a5d127 &lt;+7&gt;:	test   %al,%al
   0x00007ffff7a5d129 &lt;+9&gt;:	mov    %rsi,0x28(%rsp)
   0x00007ffff7a5d12e &lt;+14&gt;:	mov    %rdx,0x30(%rsp)
   0x00007ffff7a5d133 &lt;+19&gt;:	mov    %rcx,0x38(%rsp)
   0x00007ffff7a5d138 &lt;+24&gt;:	mov    %r8,0x40(%rsp)
   0x00007ffff7a5d13d &lt;+29&gt;:	mov    %r9,0x48(%rsp)
   0x00007ffff7a5d142 &lt;+34&gt;:	je     0x7ffff7a5d17b &lt;__scanf+91&gt;
   0x00007ffff7a5d144 &lt;+36&gt;:	movaps %xmm0,0x50(%rsp)
   0x00007ffff7a5d149 &lt;+41&gt;:	movaps %xmm1,0x60(%rsp)
   0x00007ffff7a5d14e &lt;+46&gt;:	movaps %xmm2,0x70(%rsp)
   0x00007ffff7a5d153 &lt;+51&gt;:	movaps %xmm3,0x80(%rsp)
   0x00007ffff7a5d15b &lt;+59&gt;:	movaps %xmm4,0x90(%rsp)
   0x00007ffff7a5d163 &lt;+67&gt;:	movaps %xmm5,0xa0(%rsp)
   0x00007ffff7a5d16b &lt;+75&gt;:	movaps %xmm6,0xb0(%rsp)
   0x00007ffff7a5d173 &lt;+83&gt;:	movaps %xmm7,0xc0(%rsp)
   0x00007ffff7a5d17b &lt;+91&gt;:	mov    %fs:0x28,%rax
   0x00007ffff7a5d184 &lt;+100&gt;:	mov    %rax,0x18(%rsp)
   0x00007ffff7a5d189 &lt;+105&gt;:	xor    %eax,%eax
   0x00007ffff7a5d18b &lt;+107&gt;:	lea    0xe0(%rsp),%rax
   0x00007ffff7a5d193 &lt;+115&gt;:	mov    %rdi,%rsi
   0x00007ffff7a5d196 &lt;+118&gt;:	xor    %ecx,%ecx
   0x00007ffff7a5d198 &lt;+120&gt;:	mov    %rsp,%rdx
   0x00007ffff7a5d19b &lt;+123&gt;:	mov    %rax,0x8(%rsp)
   0x00007ffff7a5d1a0 &lt;+128&gt;:	lea    0x20(%rsp),%rax
   0x00007ffff7a5d1a5 &lt;+133&gt;:	movl   $0x8,(%rsp)
   0x00007ffff7a5d1ac &lt;+140&gt;:	movl   $0x30,0x4(%rsp)
   0x00007ffff7a5d1b4 &lt;+148&gt;:	mov    %rax,0x10(%rsp)
   0x00007ffff7a5d1b9 &lt;+153&gt;:	mov    0x36fdf0(%rip),%rax        # 0x7ffff7dccfb0
   0x00007ffff7a5d1c0 &lt;+160&gt;:	mov    (%rax),%rdi
   0x00007ffff7a5d1c3 &lt;+163&gt;:	callq  0x7ffff7a4d320 &lt;_IO_vfscanf_internal&gt;
   0x00007ffff7a5d1c8 &lt;+168&gt;:	mov    0x18(%rsp),%rcx
   0x00007ffff7a5d1cd &lt;+173&gt;:	xor    %fs:0x28,%rcx
   0x00007ffff7a5d1d6 &lt;+182&gt;:	jne    0x7ffff7a5d1e0 &lt;__scanf+192&gt;
   0x00007ffff7a5d1d8 &lt;+184&gt;:	add    $0xd8,%rsp
   0x00007ffff7a5d1df &lt;+191&gt;:	retq
   0x00007ffff7a5d1e0 &lt;+192&gt;:	callq  0x7ffff7b16b10 &lt;__stack_chk_fail&gt;
End of assembler dump.
(gdb) x/2 0x555555754fd0
0x555555754fd0:	0xf7a5d120	0x00007fff
(gdb)
</code></pre><h3 class="relative group">1.2 Segment结构<div id=12-segment%E7%BB%93%E6%9E%84 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#12-segment%E7%BB%93%E6%9E%84 aria-label=锚点>#</a></span></h3><p>ELF程序头，是程序装载的时候关心的对象。段在内核装载的是时候被解析，然后load到内存里面</p><p>部分的Segment我们需要关注几种类别，比方说</p><ul><li><p>PT_LOAD：一般是可装载的段，一般需要动态链接的ELF可执行程序都包含两个</p><ul><li>存放代码的text段，权限一般为PF_X|PF_R，即执行和读</li><li>存放全局变量和动态链接信息的data段，data段的权限为PF_W|PF_R</li></ul></li><li><p>PT_DYNAMIC：动态链接可执行文件所特有的，包含动态链接器所必须的信息。动态段包含一些标记值和指针。为什么会有这个段？因为程序运行的时候不能有section header tabel引入（简单来说就是不能有节信息），所以需要一个段包含这些信息。当共享库被映射到内存后，首先处理自身（这个自身是指动态链接器自己）的重定位，然后查看可执行程序的动态段并查找DT_NEEDED参数，该参数保存了指向所需要的共享库的字符串或者路径名。连接器接着会获取到共享库的动态段，并将共享库的符号表添加到符号表链中，符号表链存储了所有映射到内存中的共享库的符号表。这个段保存有以下信息：</p><ul><li>运行时候需要链接的共享库列表</li><li>全局偏移表（GOT）的地址</li><li>重定位条目的信息<ul><li>这里需要关注一部分的特定类型</li><li>DT_NEEDED</li><li>DT_SYMTAB，对应.dynsym节</li><li>DY_HASH，对应.hash节</li><li>DT_STRTAB，对应.dynstr节</li><li>DT_PLTGOT：全局偏移表的地址</li></ul></li></ul></li><li><p>PT_NOTE：与供应商或者系统相关的附加信息</p></li><li><p>PT_INTERP：一般存放动态链接器的位置</p></li><li><p>PT_PHDR</p></li></ul><p>看一个具体例子</p><pre tabindex=0><code>qcraft@BJ-vgdog:~/qcraft$ readelf -l /usr/bin/vim

Elf file type is DYN (Shared object file)
Entry point 0x375f0
There are 9 program headers, starting at offset 64

Program Headers:
  Type           Offset             VirtAddr           PhysAddr
                 FileSiz            MemSiz              Flags  Align
  PHDR           0x0000000000000040 0x0000000000000040 0x0000000000000040
                 0x00000000000001f8 0x00000000000001f8  R      0x8
  INTERP         0x0000000000000238 0x0000000000000238 0x0000000000000238
                 0x000000000000001c 0x000000000000001c  R      0x1
      [Requesting program interpreter: /lib64/ld-linux-x86-64.so.2]
  LOAD           0x0000000000000000 0x0000000000000000 0x0000000000000000
                 0x0000000000266878 0x0000000000266878  R E    0x200000
  LOAD           0x00000000002676f0 0x00000000004676f0 0x00000000004676f0
                 0x0000000000025360 0x00000000000323c8  RW     0x200000
  DYNAMIC        0x00000000002733d8 0x00000000004733d8 0x00000000004733d8
                 0x0000000000000270 0x0000000000000270  RW     0x8
  NOTE           0x0000000000000254 0x0000000000000254 0x0000000000000254
                 0x0000000000000044 0x0000000000000044  R      0x4
  GNU_EH_FRAME   0x0000000000229628 0x0000000000229628 0x0000000000229628
                 0x0000000000008adc 0x0000000000008adc  R      0x4
  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000
                 0x0000000000000000 0x0000000000000000  RW     0x10
  GNU_RELRO      0x00000000002676f0 0x00000000004676f0 0x00000000004676f0
                 0x000000000000c910 0x000000000000c910  R      0x1

 Section to Segment mapping:
  Segment Sections...
   00
   01     .interp
   02     .interp .note.ABI-tag .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .init .plt .plt.got .text .fini .rodata .eh_frame_hdr .eh_frame
   03     .init_array .fini_array .data.rel.ro .dynamic .got .data .bss
   04     .dynamic
   05     .note.ABI-tag .note.gnu.build-id
   06     .eh_frame_hdr
   07
   08     .init_array .fini_array .data.rel.ro .dynamic .got
</code></pre><p>动态链接</p><h2 class="relative group">2 PE文件的结构<div id=2-pe%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%93%E6%9E%84 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-pe%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%93%E6%9E%84 aria-label=锚点>#</a></span></h2><p>PE文件的结构如图，DOS头后面跟NT头</p><p><figure><img class="my-0 rounded-md" loading=lazy src=imgs/windows_pe.png alt=windows_pe></figure></p><p><figure><img class="my-0 rounded-md" loading=lazy src=https://i.loli.net/2020/08/27/BFHNyfpx3EsIDUG.jpg alt=狗头的赞赏码.jpg></figure></p></div></div><script>var oid="views_posts\\2023-02-09-二进制分析\\index.md",oid_likes="likes_posts\\2023-02-09-二进制分析\\index.md"</script><script type=text/javascript src=/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q+oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/posts/2022-01-13-%E4%B8%80%E4%B8%AAinfra%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E6%80%9D%E8%80%83/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">一个INFRA工程师的思考</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2022-01-13T00:00:00+00:00>2022 年 1 月 13 日</time>
</span></span></a></span><span><a class="flex text-right group ml-3" href=/posts/2023-02-15-%E5%AE%89%E5%85%A8%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">2023-02-15-安全二进制学习</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2023-02-15T00:00:00+00:00>2023 年 2 月 15 日</time>
</span></span><span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label=返回顶部 title=返回顶部>&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">© 2025 - 2025 菜狗 All Rights Reserved.</p><p class="text-xs text-neutral-500 dark:text-neutral-400">由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a> 强力驱动</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://hxndg.github.io/ style=z-index:500><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=搜索 tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="关闭 (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>